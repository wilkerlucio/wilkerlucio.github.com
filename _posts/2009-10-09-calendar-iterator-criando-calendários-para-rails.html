---
layout: post
title: Calendar Iterator, criando calendários para Rails
published: true
---
Eu estava aqui trabalhando num projeto em Rails, e surgiu a nescessidade de usar um calendário no site. Bom, como tudo no Rails eu decidi procurar algum plugin para isso, e encontrei o <a href="http://github.com/topfunky/calendar_helper">Calendar Helper</a>, foi uma surpresa pois esse foi o único que eu encontrei, tentei utiliza-lo, precisei fazer algumas modificações no mesmo, mas fui precisando de mais e mais modificações, até eu decidir que esse plugin não era o correto pra mim, eu precisava de algo mais customizavel e simples. Então decidi criar o meu próprio, o <a href="http://github.com/wilkerlucio/calendar_iterator">Calendar Iterator</a>.<p />A idéia é bastante simples, no lugar gerar o calendário inteiro (tabela, headers...) eu decidi simplesmente gerar os dias pertinentes ao calendário do mês atual, dessa forma o resto é facilmente customizável.<p />Veja alguns exemplos de uso:<p /><div class="CodeRay">
  <div class="code"><pre># criando um calendário simples&lt;table&gt;  &lt;tbody&gt;    &lt;% calendar_iterate do |d| %&gt;      &lt;%= d %&gt;    &lt;% end %&gt;  &lt;/tbody&gt;&lt;/table&gt;# usando links nos dias do calendário&lt;table&gt;  &lt;tbody&gt;    &lt;% calendar_iterate do |d| %&gt;      &lt;%= link_to d, events_path(:day =&gt; d.mday) %&gt;    &lt;% end %&gt;  &lt;/tbody&gt;&lt;/table&gt;# trocando a data do calendário (se você não preencher algum parâmetro, o ano/mês atual serão utilizados)&lt;table&gt;  &lt;tbody&gt;    &lt;% calendar_iterate :month =&gt; 6, :year =&gt; 2009 do |d| %&gt;      &lt;%= d %&gt;    &lt;% end %&gt;  &lt;/tbody&gt;&lt;/table&gt;# usando uma versão totalmente customizada das tags &lt;tr&gt; e &lt;td&gt;&lt;table&gt;  &lt;tbody&gt;    &lt;% calendar_iterate.each_week do |w| %&gt;    &lt;tr class=&quot;some_class&quot;&gt;      &lt;% w.each do |d| %&gt;        &lt;td class=&quot;cell_class&quot;&gt;&lt;%= d %&gt;&lt;/td&gt;      &lt;% end %&gt;    &lt;/tr&gt;    &lt;% end %&gt;  &lt;/tbody&gt;&lt;/table&gt;</pre></div>
</div>
<p />Então é isso, o código do projeto está no <a href="http://www.github.com">Github</a>, e pode ser visto <a href="http://github.com/wilkerlucio/calendar_iterator">aqui</a>.<p />Para instalar o Calendar Iterator na sua aplicação execute o seguinte comando:<p /><code>script/plugin install git://github.com/wilkerlucio/calendar_iterator.git</code><div class="blogger-post-footer"><img class="posterous_download_image" src="https://blogger.googleusercontent.com/tracker/1053117534982092858-9020635138762596855?l=wilker-dev.blogspot.com" height="1" alt="" width="1" /></div>
