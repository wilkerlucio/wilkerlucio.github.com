---
layout: post
title: Arrays
published: true
---
Agora vamos começar a estudar os objetos built-in do JavaScript, vamos comecar com um objeto muito importante, o objeto <b>Array</b>.<p />Como vocês devem saber, o <b>Array</b> é uma estrutura de dados, no JavaScript essa é a única estrutura existente (por padrão), os arrays do JavaScript só podem ter índices númericos, na verdade você até pode usar índices associativos, mas na verdade você estará modificando o objeto e não colocando um dado no array. Vamos ver alguns exemplos simples de arrays no JavaScript.<p /><code>var nomes = new Array();<br />nomes[0] = 'Maria';<br />nomes[1] = 'Joao';<br />nomes[2] = 'Ana';<br /><br />for(var i = 0; i &lt; nomes.length; i++) {<br /> alert(nomes[i]);<br />}</code><p />Fizemos um simples array, colocamos uma <b>string</b> em cada item do nosso array colocamos uma string, depois fizemos um <b>for</b> que percorre os itens do nosso array. Note o uso da variável <b>length</b> do array, essa variável nos retorna a quantidade atual de itens no array. Vamos ver outras formas para criar esse mesmo array:<p /><code>var nomes = [];<br />nomes[0] = 'Maria';<br />nomes[1] = 'Joao';<br />nomes[2] = 'Ana';<br /><br />for(var i = 0; i &lt; nomes.length; i++) {<br /> alert(nomes[i]);<br />}</code><p /><code>var nomes = ['Maria', 'Joao', 'Ana'];<br /><br />for(var i = 0; i &lt; nomes.length; i++) {<br /> alert(nomes[i]);<br />}</code><p /><code>var nomes = new Array('Maria', 'Joao', 'Ana');<br /><br />for(var i = 0; i &lt; nomes.length; i++) {<br /> alert(nomes[i]);<br />}</code><p /><code>var nomes = [];<br />nomes.push('Maria');<br />nomes.push('Joao');<br />nomes.push('Ana');<br /><br />for(var i = 0; i &lt; nomes.length; i++) {<br /> alert(nomes[i]);<br />}</code><p />Agora eu mostrei que podemos substituir o <b>new Array()</b> por <b>[]</b>, eles funcionam da mesma maneira, use o de sua preferência. Também vimos que é possivel inicializar um array já com valores, quando sabemos os valores isso é util, mas na maioria dos casos nós precisamos sair colocando valores ao longo do tempo, usando o método <b>push</b> do array, nós inserimos um valor no final do array, podemos inserir varios valores usando apenas um push, como veremos abaixo:<p /><code>var nomes = [];<br />nomes.push('Maria', 'Joao', 'Ana');<br /><br />for(var i = 0; i &lt; nomes.length; i++) {<br /> alert(nomes[i]);<br />}</code><p />Os arrays do JavaScript são bastante dinâmicos, o mesmo array pode ter valores numéricos, strings, objetos e outros, tudo num mesmo array, o JavaScript não faz distinção. Os arrays em JavaScript tem métodos úteis para podermos usa-lo como uma <b>pilha</b> ou <b>fila</b> por exemplo.<p />Vou falar rapidamente sobre os métodos mais usados do array:<br /><ul>
<br /> <li>
<b>push()</b> - adiciona um ou mais itens ao final do array</li>
<br /> <li>
<b>pop()</b> - retorna e remove o último elemento do array</li>
<br /> <li>
<b>shift()</b> - retorna e remove o primeiro elemento do array</li>
<br /> <li>
<b>unshift()</b> - adiciona um ou mais itens no início do array</li>
<br /> <li>
<b>join()</b> - ele cola todos os elementos do array, usando uma string (passada por parâmetro) como separador, e retorna essa string</li>
<br />
</ul><p />Vamos agora construir um programinha simples, que coleta dados de pessoas, armazena esses dados em um array, e depois gera um simples relatório. Vamos explicar melhor o nosso programa:<p /><b>1 - coleta de dados</b><br />Usando o comando <b>prompt</b> do JavaScript, vamos coletar dados de 10 pessoas, os dados coletados serão: nome, idade e sexo.<p /><b>2 - processamento de dados</b><br />Vamos tratar nossos dados e conseguir as informações desejadas, nesse nosso caso, vamos mostrar ao final, o nome do homem mais velho e sua idade, o nome da mulher mais nova e sua idade, quantos homens e quantas mulheres foram entrevistados.<p /><b>3 - exibicao de dados</b><br />Vamos mostrar os dados gerados na tela.<p />Antes de começar, eu devo dizer que esta não é forma mais simples de fazer esse algorimo, mas minha intenção é mostrar mais recursos do array. Nessa forma, vamos olhar como fazer usando a função <b>sort</b> do array.<p />A primeira coisa a ser feita, é criar um objeto <b>Pessoa</b>, que vai ser uma estrura que irá guardar os dados de cada entrevistado:<p /><code>var Pessoa = function(nome, idade, sexo) {<br /> this.nome = nome;<br /> this.idade = idade;<br /> this.sexo = sexo;<br />};</code><p />Bem simples, apenas um objeto que guarda os dados que precisamos. Vamos agora definir as variáveis que farão parte do programa:<p /><code>var numPessoas = 5;<br />var homens = [];<br />var mulheres = [];</code><p />A variável <b>numPessoas</b> vai dizer quantas pessoas serão entrevistas, no array <b>homens</b> vamos guardas os entrevistados do sexo masculino, e no array <b>mulheres</b> os do sexo feminino .<p />Vamos agora fazer a primeira parte, a coleta de dados:<p /><code>for(var i = 0; i &lt; numPessoas; i++) {<br /> var nome = prompt('Digite o nome:');<br /> var idade = prompt('Digite a idade:');<br /> var sexo = prompt('Digite o sexo (M para masculino, F para feminino):');<br /> <br /> idade = parseInt(idade); //convertendo a string em numero<br /> sexo = sexo.toUpperCase(); //convertendo para maiusculo<br /> <br /> var p = new Pessoa(nome, idade, sexo);<br /> <br /> if(sexo == 'M')<br />  homens.push(p);<br /> else<br />  mulheres.push(p);<br />}</code><p />Pronto, com isso ja teremos os nossos arrays preenchidos. Para usarmos a função sort num objeto como o nosso, precisaremos criar uma função separada que vai definir quando um objeto é superior, inferior ou igual ao outro, vamos criar essa função:<p /><code>var PessoaIdadeSorter = function(obj1, obj2) {<br /> if(obj1.idade == obj2.idade)<br />  return 0;<br /> <br /> return obj1.idade &gt; obj2.idade ? 1 : -1;<br />};</code><p />A função compara a idade das pessoas, e retorna o valor de acordo. Agora basta classificarmos nossos arrays:<p /><code>homens.sort(PessoaIdadeSorter);<br />mulheres.sort(PessoaIdadeSorter);</code><p />Pronto, nossos arrays já estão classificados por idade, agora é facil terminar, vamos fazer a exibição:<p /><code>var qtdHomens = homes.length;<br />var qtdMulheres = mulheres.length;<br />var homemMaisVelho = homens.pop();<br />var mulherMaisNova = mulheres.shift();<br /><br />document.write('Foram entrevistados ' + qtdHomens + ' homens e ' + qtdMulheres + ' mulheres.<br />');<br />document.write('O homem mais velho se chama ' + homemMaisVelho.nome + ' com ' + homemMaisVelho.idade + ' anos<br />');<br />document.write('A mulher mais nova se chama ' + mulherMaisNova.nome + ' com ' + mulherMaisNova.idade + ' anos<br />');</code><p />Como nossos arrays estão ordenados pela idade, então o homem mais velho é o ultimo elemento do array homens, e a mulher mais nova é o primeiro elemento do array das mulheres.<p />Vou colocar o código completo abaixo (só pra facilitar):<p /><code>var Pessoa = function(nome, idade, sexo) {<br /> this.nome = nome;<br /> this.idade = idade;<br /> this.sexo = sexo;<br />};<br /><br />var numPessoas = 5;<br />var homens = [];<br />var mulheres = [];<br /><br />for(var i = 0; i &lt; numPessoas; i++) {<br /> var nome = prompt('Digite o nome:');<br /> var idade = prompt('Digite a idade:');<br /> var sexo = prompt('Digite o sexo (M para masculino, F para feminino):');<br /> <br /> idade = parseInt(idade); //convertendo a string em numero<br /> sexo = sexo.toUpperCase(); //convertendo para maiusculo<br /> <br /> var p = new Pessoa(nome, idade, sexo);<br /> <br /> if(sexo == 'M')<br />  homens.push(p);<br /> else<br />  mulheres.push(p);<br />}<br /><br />var PessoaIdadeSorter = function(obj1, obj2) {<br /> if(obj1.idade == obj2.idade)<br />  return 0;<br /> <br /> return obj1.idade &gt; obj2.idade ? 1 : -1;<br />};<br /><br />homens.sort(PessoaIdadeSorter);<br />mulheres.sort(PessoaIdadeSorter);<br /><br />var qtdHomens = homes.length;<br />var qtdMulheres = mulheres.length;<br />var homemMaisVelho = homens.pop();<br />var mulherMaisNova = mulheres.shift();<br /><br />document.write('Foram entrevistados ' + qtdHomens + ' homens e ' + qtdMulheres + ' mulheres.<br />');<br />document.write('O homem mais velho se chama ' + homemMaisVelho.nome + ' com ' + homemMaisVelho.idade + ' anos<br />');<br />document.write('A mulher mais nova se chama ' + mulherMaisNova.nome + ' com ' + mulherMaisNova.idade + ' anos<br />');</code><p />Com isso eu termino os arrays, vou a referência do objeto Array para quem tiver interesse:<p /><code><b>Array (Built-in Object)</b><br />Arrays store ordered lists of data. Data is stored at indices enumerated beginning with zero, which are accessed using the array access ([]) operator. Allocation of array memory is handled by the interpreter, so there is no need to explicitly resize arrays to accommodate more data. In addition, arrays are permitted to be sparse, that is, to have “holes” consisting of an arbitrary number of unused indices. Any index that has not been assigned data has value undefined, and the highest index addressable is 232 –1 because indices are converted to unsigned 32-bit integers before use. JavaScript arrays are one-dimensional, but since array elements can be of any type, multidimensional arrays are supported as arrays with elements that are arrays.<br /><br />You can explicitly remove a value from an array using the delete operator, but there is no way to destroy an array other than by setting the variable that holds its reference to null.<br /><br /><b>Constructor</b><br />var instanceName = new Array([ val1 [, val2 [, val3 ... ] ] ]); <br /><br />where the comma-separated values are treated as initial values for array indices 0, 1, 2, and so on. The exception is if a single numeric parameter is supplied, in which case the array’s length property is set to this value.<br /><br /><b>Properties</b><br />constructor Reference to the constructor object, which created the object. (IE4+ (JScript 2.0+), MOZ, N3+ (JavaScript 1.1+), ECMA Edition 1)<br /><br /><b>length</b> Numeric value indicating the next empty index at the end of the array (not the number of elements in the array). Setting this property to a value less than its current value will undefine any elements with index &gt;= length. (IE4+ (JScript 2.0+), MOZ, N3+ (JavaScript 1.1+), ECMA Edition 1)<br /><br /><b>prototype</b> Reference to the object’s prototype. (IE4+ (JScript 2.0+), MOZ, N3+ (JavaScript 1.1+), ECMA Edition 1)<br /><br /><b>Methods</b><br /><b>concat([item1 [, item2 [, ...]]])</b> Appends the comma-separated list of items to the end of the array and returns the new array (it does not operate on the array in place). If any item is an array, its first level is flattened (that is, the item’s elements are appended each as a separate element). (IE4+ (JScript 3.0+), MOZ, N4+ (JavaScript 1.2+), ECMA Edition 1)<br /><br /><b>join([separator])</b> Returns the string obtained by concatenating all the array’s elements. If the string separator is supplied, separator will be placed between adjacent elements. The separator defaults to a comma. (IE4+ (JScript 2.0+), MOZ, N3+ (JavaScript 1.1+), ECMA Edition 1)<br /><br /><b>pop()</b> Removes the last element of the array and returns it. (IE5.5+ (JScript 5.5+), MOZ, N4+ (JavaScript 1.2+), ECMA Edition 3)<br /><br /><b>push([item1 [, item2 [, ...]]])</b> Appends the parameters (in order) to the end of the array and returns the new length. (IE5.5+ (JScript 5.5+), MOZ, N4+ (JavaScript 1.2+), ECMA Edition 3)<br /><br /><b>reverse()</b> Reverses the order of the elements (in place). (IE4+ (JScript 2.0+), MOZ, N3+ (JavaScript 1.1+), ECMA Edition 1)<br /><br /><b>shift()</b> Removes the first element from the array, returns it, and shifts all other elements down one index. (IE5.5+ (JScript 5.5+), MOZ, N4+ (JavaScript 1.2+), ECMA Edition 3)<br /><br /><b>slice(begin [, end])</b> Returns a new array containing the elements from index begin up to but not including index end. If end is omitted, all elements to the end of the array are extracted. If end is negative, it is treated as an offset from the end of the array. (IE4+ (JScript 3.0+), MOZ, N4+ (JavaScript 1.2), ECMA Edition 3)<br /><br /><b>sort([compareFunc])</b> Sorts the array in place in lexicographic order. The optional argument compareFunc is a function that can change the behavior of the sort. It will be passed two elements and should return a negative value if the first element is less than the second, a positive value if the second is less than the first, or zero if they are equal. (IE4+ (JScript 2.0+), MOZ, N3+ (JavaScript 1.1+), ECMA Edition 1)<br /><br /><b>splice(start, howMany [, item1 [, item2 [, ...]]])</b> Removes howMany elements from the array beginning at index start and replaces the removed elements with the itemN arguments (if passed). An array containing the deleted elements is returned. (IE5.5+ (JScript 5.5+), MOZ, N4+ (JavaScript 1.2+), ECMA Edition 3)<br /><br /><b>toString()</b> Returns a string containing the comma-separated list of elements. (IE4+ (JScript 2.0+), MOZ, N3+ (JavaScript 1.1+), ECMA Edition 1)<br /><br /><b>unshift([item1 [, item2 [, ...]]])</b> Inserts the items (in order) at the front of the array, shifting existing values up to higher indices. (IE5.5+ (JScript 5.5+), MOZ, N4+ (JavaScript 1.2+), ECMA Edition 3)<br /><br /><b>valueOf()</b> Same as toString(). (IE4+ (JScript 2.0+), MOZ, N3+ (JavaScript 1.1+), ECMA Edition 1)<br /><br /><b>Support</b><br />Supported in IE4+ (JScript 2.0+), Mozilla, N3+ (JavaScript 1.1+), ECMAScript Edition 1.<br /><br /><b>Notes</b><br />In Netscape 4.0–4.05 (JavaScript 1.2) a single numeric parameter to the constructor is added to the single array element—it is not treated as an initial value for length.</code><p />Por hoje é tudo, no próximo artigo eu irei falar sobre o objeto <b>String</b>. E plz, comentem, seu comentário é muito importante ;)<div class="blogger-post-footer"><img class="posterous_download_image" src="https://blogger.googleusercontent.com/tracker/34235652-115835383242043238?l=jsdev.blogspot.com" height="1" alt="" width="1" /></div>
