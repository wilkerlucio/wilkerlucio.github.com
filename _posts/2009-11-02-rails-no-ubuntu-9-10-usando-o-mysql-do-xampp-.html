---
layout: post
title: Rails no Ubuntu 9.10 (usando o mysql do xampp)
published: true
---
Bom, estive tendo alguns problemas para instalar as coisas aqui no Ubuntu, mas consegui resolver, segue o passo a passo de comandos para ter tudo instalado e pegando:<p />1. Instalar o XAMPP e o XAMPP development package (instrucoes no site do <a href="http://www.apachefriends.org/en/xampp-linux.html">xampp</a>)<br />2. Instalar o Ruby com Development Package:<br /><code>sudo apt-get install ruby1.8 ruby1.8-dev rubygems1.8 irb rake libopenssl-ruby1.8<br /></code><br />3. instalar o rails<br /><code>sudo gem install rails<br /></code><br />4. rodar o xampp<br /><code>sudo /opt/lampp/lampp start<br /></code><br />5. instalar o mysql<br /><code>sudo gem install mysql -- --with-mysql-dir=/opt/lampp/ --with-mysql-lib=/opt/lampp/lib/mysql --with-mysql-include=/opt/lampp/include/mysql<br /></code><br />6. configurar link para socket<br /><code>sudo mkdir /var/run/mysqld<br />sudo ln -s /opt/lampp/var/mysql/mysql.sock /var/run/mysqld/mysqld.sock<br /></code><p />É isso, com isso rolo tudo certo aqui :)<p /><span style="color: #FF0000;">UPDATE:</span><p />Eu percebi que o link do mysqlsock é perdido sempre que o sistema é reiniciado.<br />Então eu criei um script para iniciar o xampp e criar o link automaticamente na inicialização:<p />crie o arquivo abaixo:<p /><span style="font-style: italic;">/usr/bin/lamppstart</span><br /><code>#! /bin/bash<br /><br />/opt/lampp/lampp start<br />mkdir /var/run/mysqld<br />ln -s /opt/lampp/var/mysql/mysql.sock /var/run/mysqld/mysqld.sock</code><p />após criar o script é nescessário incluí-lo na inicialização do sistema, para isso adicione a linha para executa-lo dentro do arquivo /etc/rc.local, o meu arquivo ficou assim:<p /><span style="font-style: italic;">/etc/rc.local</span><br /><code>#!/bin/sh -e<br />#<br /># rc.local<br />#<br /># This script is executed at the end of each multiuser runlevel.<br /># Make sure that the script will "exit 0" on success or any other<br /># value on error.<br />#<br /># In order to enable or disable this script just change the execution<br /># bits.<br />#<br /># By default this script does nothing.<br /><br />/usr/bin/lamppstart<br /><br />exit 0</code><div class="blogger-post-footer"><img class="posterous_download_image" src="https://blogger.googleusercontent.com/tracker/1053117534982092858-4101544396160366435?l=wilker-dev.blogspot.com" height="1" alt="" width="1" /></div>
